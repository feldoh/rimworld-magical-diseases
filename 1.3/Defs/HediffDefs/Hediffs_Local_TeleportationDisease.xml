<?xml version="1.0" encoding="utf-8"?>
<Defs>
	<HediffDef ParentName="InfectionBase" Class="Magical_Diseases.Illness.HediffDef_RandomTeleport">
		<description>A disease of magical origin which causes the patient to uncontrollably teleport randomly. The range and frequency of teleport events increases along with the severity.</description>
		<hediffClass>Magical_Diseases.Illness.Hediff_RandomTeleport</hediffClass>
		<defName>Feldoh_TeleportingSickness</defName>
		<label>Teleporting Sickness</label>
		<makesSickThought>false</makesSickThought>
		<initialSeverity>0.10</initialSeverity>
		<lethalSeverity>-1</lethalSeverity>
		<scenarioCanAdd>true</scenarioCanAdd>
		<tendable>true</tendable>
		<shouldLog>true</shouldLog>
		<minimumTicksBetween>2500</minimumTicksBetween>
		<comps>
			<li Class="HediffCompProperties_TendDuration">
				<baseTendDurationHours>32</baseTendDurationHours>
				<severityPerDayTended>-0.07</severityPerDayTended>
			</li>
			<li Class="HediffCompProperties_Immunizable">
				<severityPerDayNotImmune>0.12</severityPerDayNotImmune>
				<immunityPerDaySick>0.08</immunityPerDaySick>
				<severityPerDayImmune>-0.176</severityPerDayImmune>
				<immunityPerDayNotSick>-0.02</immunityPerDayNotSick>
			</li>
			<li Class="HediffCompProperties_DisappearsOnDeath"/>
		</comps>
		<stages>
			<li>
				<label>initial</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>-0.01</offset>
					</li>
				</capMods>
				<becomeVisible>false</becomeVisible>
			</li>
			<li>
				<minSeverity>0.15</minSeverity>
				<label>minor</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>-0.05</offset>
					</li>
				</capMods>
			</li>
			<li>
				<minSeverity>0.45</minSeverity>
				<label>major</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>-0.10</offset>
					</li>
				</capMods>
			</li>
			<li>
				<minSeverity>0.75</minSeverity>
				<label>major</label>
				<mentalBreakMtbDays>7</mentalBreakMtbDays>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>-0.10</offset>
					</li>
				</capMods>
				<hediffGivers>
					<li Class="HediffGiver_Random">
						<hediff>Feldoh_TeleportingSickness_Chronic</hediff>
						<mtbDays>33</mtbDays>
					</li>
				</hediffGivers>
			</li>
		</stages>
	</HediffDef>

	<HediffDef ParentName="InfectionBase" Class="Magical_Diseases.Illness.HediffDef_RandomTeleport">
		<description>A chronic disease of magical origin which causes the patient to uncontrollably teleport randomly.</description>
		<hediffClass>Magical_Diseases.Illness.Hediff_RandomTeleport</hediffClass>
		<chronic>true</chronic>
		<defName>Feldoh_TeleportingSickness_Chronic</defName>
		<label>Chronic Teleporting Sickness</label>
		<makesSickThought>false</makesSickThought>
		<initialSeverity>1.0</initialSeverity>
		<lethalSeverity>-1</lethalSeverity>
		<scenarioCanAdd>false</scenarioCanAdd>
		<tendable>false</tendable>
		<shouldLog>true</shouldLog>
		<minimumTicksBetween>30000</minimumTicksBetween>
		<comps>
			<li Class="HediffCompProperties_GetsPermanent">
				<permanentLabel>chronic teleportation sickness</permanentLabel>
				<becomePermanentChanceFactor>0.2</becomePermanentChanceFactor>
			</li>
		</comps>
		<stages>
			<li>
				<minSeverity>1.0</minSeverity>
				<mentalBreakMtbDays>10</mentalBreakMtbDays>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>-0.10</offset>
					</li>
				</capMods>
				<makeImmuneTo>
					<li>Feldoh_TeleportingSickness</li>
				</makeImmuneTo>
			</li>
		</stages>
	</HediffDef>

	<RecipeDef ParentName="SurgeryFlesh">
		<defName>Feldoh_CureTeleportingSickness</defName>
		<label>anti-teleportation mechanite infusion</label>
		<description>This special medical operation uses a massive dose of mechanites to execute a coordinated restructure of neural activity, aimed at retargetting the teleportation episodes to the current point in space-time, without damaging the brain. It effectively permanently cures a patient's teleportation sickness, but consumes a large amount of glitterworld medicine.</description>
		<workerClass>Recipe_RemoveHediff</workerClass>
		<jobString>Infusing anti-teleportation mechanites.</jobString>
		<workAmount>2000</workAmount>
		<hideBodyPartNames>true</hideBodyPartNames>
		<isViolation>false</isViolation>
		<targetsBodyPart>false</targetsBodyPart>
		<removesHediff>Feldoh_TeleportingSickness_Chronic</removesHediff>
		<successfullyRemovedHediffMessage>{0} has successfully cured {1}'s teleportation sickness.</successfullyRemovedHediffMessage>
		<skillRequirements>
			<Medicine>5</Medicine>
		</skillRequirements>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>MedicineUltratech</li>
					</thingDefs>
				</filter>
				<count>7</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<categories>
				<li>Medicine</li>
			</categories>
		</fixedIngredientFilter>
	</RecipeDef>
</Defs>
